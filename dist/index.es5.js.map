{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./out-es5/errors.js","webpack:///./out-es5/index.js","webpack:///./out-es5/services/image-service.js","webpack:///./out-es5/services/permission-service.js","webpack:///./out-es5/services/service.js","webpack:///./out-es5/services/toolkit-service.js","webpack:///./out-es5/services/user-service.js","webpack:///./out-es5/settings.js","webpack:///external \"maishu-chitu-service\""],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFa;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClCa;;AAEb;AACA;AACA,CAAC;;AAED,gBAAgB,mBAAO,CAAC,yDAAoB;;AAE5C;;AAEA,sBAAsB,mBAAO,CAAC,qEAA0B;;AAExD;;AAEA,qBAAqB,mBAAO,CAAC,mEAAyB;;AAEtD;;AAEA,wBAAwB,mBAAO,CAAC,yEAA4B;;AAE5D;;AAEA,2BAA2B,mBAAO,CAAC,+EAA+B;;AAElE,mEAAmE,YAAY,oBAAoB;AACnG,WAAW,iBAAiB;;AAE5B,iBAAiB,mBAAO,CAAC,yCAAY;;AAErC;AACA;;;;;;;;;;;;;AC9Ba;;AAEb,uBAAuB,2EAA2E,kCAAkC,mBAAmB,GAAG,EAAE,OAAO,kCAAkC,8HAA8H,GAAG,EAAE,qBAAqB;;AAE7V,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE;;AAE3T,6DAA6D,sEAAsE,8DAA8D,oBAAoB;;AAErN,iDAAiD,0EAA0E,aAAa,EAAE,qCAAqC;;AAE/K,uCAAuC,uBAAuB,uFAAuF,EAAE,aAAa;;AAEpK,6BAA6B,gGAAgG,gDAAgD,GAAG,2BAA2B;;AAE3M,0CAA0C,+DAA+D,2EAA2E,EAAE,yEAAyE,eAAe,sDAAsD,EAAE,EAAE,uDAAuD;;AAE/X,gCAAgC,4EAA4E,iBAAiB,UAAU,GAAG,8BAA8B;;AAExK;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA,CAAC;;AAED,gBAAgB,mBAAO,CAAC,gDAAW;;AAEnC,eAAe,mBAAO,CAAC,sCAAW;;AAElC,iBAAiB,mBAAO,CAAC,0CAAa;AACtC;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;;AAE3B,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,0DAA0D;;AAE1D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA,iDAAiD;;AAEjD,oDAAoD;;AAEpD,8DAA8D;;AAE9D,6BAA6B;;AAE7B,qDAAqD;;AAErD;AACA;AACA,qFAAqF;;AAErF;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtYa;;AAEb,uBAAuB,2EAA2E,kCAAkC,mBAAmB,GAAG,EAAE,OAAO,kCAAkC,8HAA8H,GAAG,EAAE,qBAAqB;;AAE7V,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE;;AAE3T,6DAA6D,sEAAsE,8DAA8D,oBAAoB;;AAErN,iDAAiD,0EAA0E,aAAa,EAAE,qCAAqC;;AAE/K,6BAA6B,gGAAgG,gDAAgD,GAAG,2BAA2B;;AAE3M,uCAAuC,uBAAuB,uFAAuF,EAAE,aAAa;;AAEpK,0CAA0C,+DAA+D,2EAA2E,EAAE,yEAAyE,eAAe,sDAAsD,EAAE,EAAE,uDAAuD;;AAE/X,gCAAgC,4EAA4E,iBAAiB,UAAU,GAAG,8BAA8B;;AAExK;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA,CAAC;;AAED,gBAAgB,mBAAO,CAAC,gDAAW;;AAEnC,eAAe,mBAAO,CAAC,sCAAW,EAAE,YAAY,SAAS;;;AAGzD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC;AACD;;;;;;;;;;;;;AC3mCa;;AAEb,uBAAuB,2EAA2E,kCAAkC,mBAAmB,GAAG,EAAE,OAAO,kCAAkC,8HAA8H,GAAG,EAAE,qBAAqB;;AAE7V,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE;;AAE3T,6DAA6D,sEAAsE,8DAA8D,oBAAoB;;AAErN,iDAAiD,0EAA0E,aAAa,EAAE,qCAAqC;;AAE/K,uCAAuC,uBAAuB,uFAAuF,EAAE,aAAa;;AAEpK,2CAA2C,qDAAqD,oBAAoB,EAAE,OAAO,mDAAmD,6CAA6C,mBAAmB,4DAA4D,gBAAgB,gCAAgC,EAAE,mBAAmB,GAAG,EAAE,mDAAmD;;AAEza,2CAA2C,kEAAkE,kCAAkC,4BAA4B,EAAE,eAAe;;AAE5L,6BAA6B,gGAAgG,gDAAgD,GAAG,2BAA2B;;AAE3M,0CAA0C,+DAA+D,2EAA2E,EAAE,yEAAyE,eAAe,sDAAsD,EAAE,EAAE,uDAAuD;;AAE/X,gCAAgC,4EAA4E,iBAAiB,UAAU,GAAG,8BAA8B;;AAExK;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA,CAAC;;AAED,6BAA6B,mBAAO,CAAC,kDAAsB;;AAE3D;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA6B,iBAAiB;AAC9C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2BAA2B,kBAAkB;AAC7C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,4BAA4B,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;AAC5D,6BAA6B,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE;AACzD;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;;;;;;;;;;;;;AC9Ma;;AAEb,uBAAuB,2EAA2E,kCAAkC,mBAAmB,GAAG,EAAE,OAAO,kCAAkC,8HAA8H,GAAG,EAAE,qBAAqB;;AAE7V,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE;;AAE3T,6DAA6D,sEAAsE,8DAA8D,oBAAoB;;AAErN,iDAAiD,0EAA0E,aAAa,EAAE,qCAAqC;;AAE/K,uCAAuC,uBAAuB,uFAAuF,EAAE,aAAa;;AAEpK,6BAA6B,gGAAgG,gDAAgD,GAAG,2BAA2B;;AAE3M,0CAA0C,+DAA+D,2EAA2E,EAAE,yEAAyE,eAAe,sDAAsD,EAAE,EAAE,uDAAuD;;AAE/X,gCAAgC,4EAA4E,iBAAiB,UAAU,GAAG,8BAA8B;;AAExK;AACA;AACA,CAAC;;AAED,gBAAgB,mBAAO,CAAC,gDAAW;;AAEnC,eAAe,mBAAO,CAAC,sCAAW;;AAElC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;;;;;;;;;;;;;AC5Da;;AAEb,uBAAuB,2EAA2E,kCAAkC,mBAAmB,GAAG,EAAE,OAAO,kCAAkC,8HAA8H,GAAG,EAAE,qBAAqB;;AAE7V,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,0EAA0E,aAAa,EAAE,qCAAqC;;AAE/K,uCAAuC,uBAAuB,uFAAuF,EAAE,aAAa;;AAEpK,6BAA6B,gGAAgG,gDAAgD,GAAG,2BAA2B;;AAE3M,0CAA0C,+DAA+D,2EAA2E,EAAE,yEAAyE,eAAe,sDAAsD,EAAE,EAAE,uDAAuD;;AAE/X,gCAAgC,4EAA4E,iBAAiB,UAAU,GAAG,8BAA8B;;AAExK;AACA;AACA,CAAC;;AAED,2BAA2B,mBAAO,CAAC,sEAAsB;AACzD;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;;;;;;;;;;;;ACvCa;;AAEb;AACA;AACA,CAAC;;AAED,sBAAsB,mBAAO,CAAC,qEAA0B;;AAExD,2BAA2B,mBAAO,CAAC,+EAA+B;;AAElE,wBAAwB,mBAAO,CAAC,yEAA4B;;AAE5D;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;ACrDA,kE","file":"index.es5.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"maishu-chitu-service\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"maishu-chitu-service\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"maishu-chitu-service\")) : factory(root[\"maishu-chitu-service\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof window === 'undefined' ? global : window, function(__WEBPACK_EXTERNAL_MODULE_maishu_chitu_service__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./out-es5/index.js\");\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.errors = {\n  serviceUrlCanntNull: function serviceUrlCanntNull(serviceName) {\n    var msg = \"Service '\".concat(serviceName, \"' base url can not null.\");\n    return new Error(msg);\n  },\n  unexpectedNullResult: function unexpectedNullResult() {\n    var msg = \"Null result is unexpected.\";\n    return new Error(msg);\n  },\n  unexpectedNullValue: function unexpectedNullValue(name) {\n    var msg = \"variable \".concat(name, \" is unexpected null value.\");\n    return new Error(msg);\n  },\n  argumentNull: function argumentNull(name) {\n    var msg = \"Arugment \".concat(name, \" cannt null or empty.\");\n    return new Error(msg);\n  },\n  fieldNull: function fieldNull(field, itemName) {\n    var msg = \"\".concat(itemName, \" \").concat(field, \" cannt be null or empty\");\n    return new Error(msg);\n  },\n  instanceMessangerStart: function instanceMessangerStart() {\n    var msg = \"Instance messanger is start.\";\n    return new Error(msg);\n  },\n  notSupportedInNode: function notSupportedInNode() {\n    var msg = \"Not implement in node environment.\";\n  }\n};\n//# sourceMappingURL=errors.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar service_1 = require(\"./services/service\");\n\nexports.Service = service_1.Service;\n\nvar image_service_1 = require(\"./services/image-service\");\n\nexports.ImageService = image_service_1.ImageService;\n\nvar user_service_1 = require(\"./services/user-service\");\n\nexports.UserService = user_service_1.UserService;\n\nvar toolkit_service_1 = require(\"./services/toolkit-service\");\n\nexports.ToolkitService = toolkit_service_1.ToolkitService;\n\nvar permission_service_1 = require(\"./services/permission-service\");\n\nexports.PermissionService = permission_service_1.PermissionService; // export { InstanceMessanger } from './services/instance-messanger'\n// export { MessageService } from './services/message-service'\n\nvar settings_1 = require(\"./settings\");\n\nexports.settings = settings_1.settings;\n//# sourceMappingURL=index.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar service_1 = require(\"./service\");\n\nvar errors_1 = require(\"../errors\");\n\nvar settings_1 = require(\"../settings\");\n/** 图片服务，实现图片的上传，获取 */\n\n\nvar ImageService =\n/*#__PURE__*/\nfunction (_service_1$Service) {\n  _inherits(ImageService, _service_1$Service);\n\n  function ImageService() {\n    _classCallCheck(this, ImageService);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ImageService).apply(this, arguments));\n  }\n\n  _createClass(ImageService, [{\n    key: \"url\",\n    value: function url(path) {\n      if (!ImageService.baseUrl) throw errors_1.errors.serviceUrlCanntNull('imageService');\n      return \"\".concat(ImageService.baseUrl, \"/\").concat(path);\n    }\n    /** 获取图片的 URL\r\n     * @param id 图片的 ID\r\n     * @param width 图片的宽度，如果不指定则为实际图片的宽度\r\n     * @param height 图片的高度，如果不指定则为实际图片的高度\r\n     */\n\n  }, {\n    key: \"imageSource\",\n    value: function imageSource(id, width, height) {\n      if (id != null && id.startsWith(\"http://\")) return id;\n      if (id != null && id.indexOf(\"/\") >= 0) return id;\n\n      if (!id) {\n        width = width == null ? 200 : width;\n        height = height == null ? 100 : height;\n        id = this.generateImageBase64(width, height, settings_1.settings.noImageText);\n        return id;\n      }\n\n      var isBase64 = id.startsWith('data:image');\n\n      if (isBase64) {\n        return id;\n      }\n\n      var url = this.url('image');\n      url = \"\".concat(url, \"?id=\").concat(id);\n      if (width != null) url = url + \"&width=\".concat(width);\n      if (height != null) url = url + \"&height=\".concat(height);\n      return url;\n    }\n  }, {\n    key: \"generateImageBase64\",\n    value: function generateImageBase64(width, height, obj, options) {\n      if (document == null) {\n        throw errors_1.errors.notSupportedInNode();\n      }\n\n      var canvas = document.createElement('canvas');\n      canvas.width = width; //img_width;\n\n      canvas.height = height; //img_height;\n\n      var ctx = canvas.getContext('2d');\n      if (ctx == null) throw new Error('ccreate canvas context fail.');\n      var draw = typeof obj == 'string' ? draws.text(obj, options) : obj;\n      draw(ctx, width, height);\n      return canvas.toDataURL();\n    }\n  }, {\n    key: \"getImageSize\",\n    value: function getImageSize(imageBase64) {\n      if (!imageBase64) throw errors_1.errors.argumentNull('imageBase64');\n      return new Promise(function (resolve, reject) {\n        var i = new Image();\n\n        i.onload = function () {\n          resolve({\n            width: i.width,\n            height: i.height\n          });\n        };\n\n        i.src = imageBase64;\n      });\n    }\n    /**\r\n     * 对图片进行缩放\r\n     * @param imageBase64 图片 base64 格式数据\r\n     * @param width 目标图片的宽度\r\n     * @param height 目标图片的高度\r\n     */\n\n  }, {\n    key: \"resize\",\n    value: function resize(imageBase64, width, height) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var canvas, ctx;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (imageBase64) {\n                  _context.next = 2;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('imageBase64');\n\n              case 2:\n                if (width) {\n                  _context.next = 4;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('width');\n\n              case 4:\n                if (height) {\n                  _context.next = 6;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('height');\n\n              case 6:\n                canvas = document.createElement('canvas'); //.getElementById(\"canvas\");\n\n                ctx = canvas.getContext(\"2d\");\n                canvas.width = width;\n                canvas.height = height;\n                _context.next = 12;\n                return new Promise(function (resolve, reject) {\n                  var img = new Image();\n                  img.src = imageBase64;\n\n                  img.onload = function () {\n                    // width = img.width\n                    // height = img.height\n                    if (ctx == null) throw 'get canvas context fail';\n                    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n                    resolve(canvas.toDataURL());\n                  };\n                });\n\n              case 12:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n    }\n  }, {\n    key: \"list\",\n    value: function list(args) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var url, result;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                url = \"\".concat(ImageService.baseUrl, \"/list\");\n                _context2.next = 3;\n                return this.postByJson(url, args);\n\n              case 3:\n                result = _context2.sent;\n                return _context2.abrupt(\"return\", result);\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n    /**\r\n     * 上传图片\r\n     * @param imageBase64 图片的 base64 数据\r\n     */\n\n  }, {\n    key: \"upload\",\n    value: function upload(imageBase64) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var url, imageSize, maxWidth, maxHeight, height, width;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (imageBase64) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('imageBase64');\n\n              case 2:\n                url = this.url('upload');\n                _context3.next = 5;\n                return this.getImageSize(imageBase64);\n\n              case 5:\n                imageSize = _context3.sent;\n                maxWidth = 800;\n                maxHeight = 800;\n\n                if (!(imageSize.width > maxWidth)) {\n                  _context3.next = 15;\n                  break;\n                }\n\n                // || imageSize.height > maxHeight\n                height = imageSize.height / imageSize.width * maxWidth;\n                _context3.next = 12;\n                return this.resize(imageBase64, maxWidth, height);\n\n              case 12:\n                imageBase64 = _context3.sent;\n                _context3.next = 20;\n                break;\n\n              case 15:\n                if (!(imageSize.height > maxHeight)) {\n                  _context3.next = 20;\n                  break;\n                }\n\n                width = imageSize.width / imageSize.height * maxHeight;\n                _context3.next = 19;\n                return this.resize(imageBase64, width, maxHeight);\n\n              case 19:\n                imageBase64 = _context3.sent;\n\n              case 20:\n                return _context3.abrupt(\"return\", this.postByJson(url, {\n                  image: imageBase64\n                }));\n\n              case 21:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n    }\n    /**\r\n     *\r\n     * @param id 删除图片\r\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(id) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var url;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (id) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('id');\n\n              case 2:\n                url = this.url(\"remove\");\n                return _context4.abrupt(\"return\", this.postByJson(url, {\n                  id: id\n                }));\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n    }\n  }]);\n\n  return ImageService;\n}(service_1.Service);\n\nexports.ImageService = ImageService;\nvar draws = {\n  text: function text(imageText, options) {\n    return function (ctx, canvasWidth, canvasHeight) {\n      // let fontSize1 = Math.floor(canvasHeight / 3 * 0.8);\n      var fontSize = Math.floor(canvasWidth / imageText.length * 0.6);\n      var bgColor = 'whitesmoke';\n      var textColor = '#999'; // let fontSize = Math.min(fontSize1, fontSize2);\n\n      options = options || {};\n      ctx.fillStyle = options.bgColor || bgColor; //'whitesmoke';\n\n      ctx.fillRect(0, 0, canvasWidth, canvasHeight); // 设置字体\n\n      ctx.font = \"Bold \".concat(options.fontSize, \"px Arial\"); // 设置对齐方式\n\n      ctx.textAlign = \"left\"; // 设置填充颜色\n\n      ctx.fillStyle = options.textColor || textColor; //\"#999\";\n\n      var textWidth = fontSize * imageText.length;\n      var startX = Math.floor((canvasWidth - textWidth) * 0.5);\n      var startY = Math.floor((canvasHeight - (options.fontSize || fontSize)) * 0.3); // 设置字体内容，以及在画布上的位置\n\n      ctx.fillText(imageText, startX, Math.floor(canvasHeight * 0.6));\n    };\n  }\n};\n//# sourceMappingURL=image-service.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar service_1 = require(\"./service\");\n\nvar errors_1 = require(\"../errors\"); // import { events } from \"../events\";\n\n\nvar PermissionService =\n/*#__PURE__*/\nfunction (_service_1$Service) {\n  _inherits(PermissionService, _service_1$Service);\n\n  function PermissionService() {\n    var _this;\n\n    _classCallCheck(this, PermissionService);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PermissionService).apply(this, arguments));\n    _this.role = new RoleModule(_assertThisInitialized(_this));\n    _this.user = new UserModule(_assertThisInitialized(_this));\n    _this.sms = new SMSModule(_assertThisInitialized(_this));\n    _this.currentUser = {\n      resource: {\n        list: function list() {\n          var url = _this.url(\"current-user/resource/list\");\n\n          return _this.get(url);\n        }\n      }\n    };\n    _this.resource = {\n      list: function list(args) {\n        var url = _this.url(\"resource/list\");\n\n        return _this.getByJson(url, {\n          args: args\n        });\n      },\n      item: function item(id) {\n        var url = _this.url(\"resource/item\");\n\n        return _this.getByJson(url, {\n          id: id\n        });\n      },\n      remove: function remove(id) {\n        var url = _this.url(\"resource/remove\");\n\n        return _this.post(url, {\n          id: id\n        });\n      },\n      add: function add(item) {\n        var url = _this.url(\"resource/add\");\n\n        return _this.postByJson(url, {\n          item: item\n        });\n      },\n      update: function update(item) {\n        var url = _this.url(\"resource/update\");\n\n        return _this.postByJson(url, {\n          item: item\n        });\n      }\n    };\n    _this.token = {\n      list: function list(args) {\n        return __awaiter(_assertThisInitialized(_this), void 0, void 0,\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee() {\n          var url, r;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  url = this.url('token/list');\n                  r = this.getByJson(url, {\n                    args: args\n                  });\n                  return _context.abrupt(\"return\", r);\n\n                case 3:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n      },\n      add: function add(item) {\n        return __awaiter(_assertThisInitialized(_this), void 0, void 0,\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee2() {\n          var url, r;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  url = this.url(\"token/add\");\n                  _context2.next = 3;\n                  return this.postByJson(url, {\n                    item: item\n                  });\n\n                case 3:\n                  r = _context2.sent;\n                  return _context2.abrupt(\"return\", r);\n\n                case 5:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n      }\n    };\n    return _this;\n  }\n\n  _createClass(PermissionService, [{\n    key: \"url\",\n    value: function url(path) {\n      if (!PermissionService.baseUrl) throw errors_1.errors.serviceUrlCanntNull('permissionService');\n      if (PermissionService.baseUrl.endsWith(\"/\")) return \"\".concat(PermissionService.baseUrl).concat(path);\n      return \"\".concat(PermissionService.baseUrl, \"/\").concat(path);\n    }\n    /**\r\n     * 移除当前应用的用户\r\n     * @param userId 要移除的用户编号\r\n     */\n\n  }, {\n    key: \"removeUser\",\n    value: function removeUser(userId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var url;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (userId) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('userId');\n\n              case 2:\n                url = this.url('application/removeUser');\n                return _context3.abrupt(\"return\", this.deleteByJson(url, {\n                  userId: userId\n                }));\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n    }\n    /**\r\n     * 获取当前应用的所有用户\r\n     * @param args 数据源选择参数\r\n     */\n\n  }, {\n    key: \"getApplicatinUsers\",\n    value: function getApplicatinUsers(args) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var url, result;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(args == null)) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('args');\n\n              case 2:\n                url = this.url('application/users');\n                _context4.next = 5;\n                return this.getByJson(url, {\n                  args: args\n                });\n\n              case 5:\n                result = _context4.sent;\n\n                if (!(result == null)) {\n                  _context4.next = 8;\n                  break;\n                }\n\n                throw errors_1.errors.unexpectedNullResult();\n\n              case 8:\n                return _context4.abrupt(\"return\", result);\n\n              case 9:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n    }\n    /**\r\n     * 获取用角色\r\n     * @param userId 用户编号\r\n     */\n\n  }, {\n    key: \"getUserRoles\",\n    value: function getUserRoles(userId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5() {\n        var url, r;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                url = this.url('role/userRoles');\n                _context5.next = 3;\n                return this.getByJson(url, {\n                  userIds: [userId]\n                });\n\n              case 3:\n                r = _context5.sent;\n                return _context5.abrupt(\"return\", r[userId]);\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n    }\n  }]);\n\n  return PermissionService;\n}(service_1.Service);\n\nexports.PermissionService = PermissionService;\n\nvar ServiceModule =\n/*#__PURE__*/\nfunction () {\n  function ServiceModule(service) {\n    _classCallCheck(this, ServiceModule);\n\n    this.service = service;\n    this.getByJson = this.service.getByJson.bind(this.service);\n    this.postByJson = this.service.postByJson.bind(this.service);\n    this.get = this.service.get;\n  }\n\n  _createClass(ServiceModule, [{\n    key: \"url\",\n    value: function url(path) {\n      if (!PermissionService.baseUrl) throw errors_1.errors.serviceUrlCanntNull('permissionService');\n      return \"\".concat(PermissionService.baseUrl, \"/\").concat(path);\n    }\n  }]);\n\n  return ServiceModule;\n}();\n\nvar UserModule =\n/*#__PURE__*/\nfunction (_ServiceModule) {\n  _inherits(UserModule, _ServiceModule);\n\n  function UserModule() {\n    _classCallCheck(this, UserModule);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(UserModule).apply(this, arguments));\n  }\n\n  _createClass(UserModule, [{\n    key: \"list\",\n\n    /** 获取用户列表 */\n    value: function list(args) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6() {\n        var url, result;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                url = this.url('user/list');\n                _context6.next = 3;\n                return this.getByJson(url, {\n                  args: args\n                });\n\n              case 3:\n                result = _context6.sent;\n\n                if (!(result == null)) {\n                  _context6.next = 6;\n                  break;\n                }\n\n                throw errors_1.errors.unexpectedNullResult();\n\n              case 6:\n                return _context6.abrupt(\"return\", result);\n\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n    }\n    /**\r\n     * 更新用户信息\r\n     * @param item 用户\r\n     */\n\n  }, {\n    key: \"update\",\n    value: function update(item) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee7() {\n        var url, result;\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                url = this.url('user/update');\n                _context7.next = 3;\n                return this.postByJson(url, {\n                  user: item\n                });\n\n              case 3:\n                result = _context7.sent;\n                return _context7.abrupt(\"return\", result);\n\n              case 5:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n    }\n    /**\r\n     * 获取用户\r\n     * @param userId 用户编号\r\n     */\n\n  }, {\n    key: \"item\",\n    value: function item(userId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee8() {\n        var url, user;\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                url = this.url('user/item');\n                _context8.next = 3;\n                return this.getByJson(url, {\n                  userId: userId\n                });\n\n              case 3:\n                user = _context8.sent;\n                return _context8.abrupt(\"return\", user);\n\n              case 5:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n    }\n    /**\r\n     * 添加用户信息\r\n     * @param item 用户\r\n     */\n\n  }, {\n    key: \"addUser\",\n    value: function addUser(item) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee9() {\n        var url, result, r;\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                url = this.url('user/add');\n                _context9.next = 3;\n                return this.postByJson(url, {\n                  item: item\n                });\n\n              case 3:\n                r = _context9.sent;\n                return _context9.abrupt(\"return\", r);\n\n              case 5:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n    }\n    /** 设置用户角色 */\n\n  }, {\n    key: \"setRoles\",\n    value: function setRoles(userId, roleIds) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee10() {\n        var url;\n        return regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                if (userId) {\n                  _context10.next = 2;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('userId');\n\n              case 2:\n                if (roleIds) {\n                  _context10.next = 4;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('roleIds');\n\n              case 4:\n                url = this.url('user/setRoles');\n                return _context10.abrupt(\"return\", this.postByJson(url, {\n                  userId: userId,\n                  roleIds: roleIds\n                }));\n\n              case 6:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n    }\n    /** 通过手机获取用户 */\n\n  }, {\n    key: \"listByMobile\",\n    value: function listByMobile(mobile) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee11() {\n        var args, r;\n        return regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if (mobile) {\n                  _context11.next = 2;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('mobile');\n\n              case 2:\n                args = {};\n                args.filter = \"mobile = '\".concat(mobile, \"'\");\n                _context11.next = 6;\n                return this.list(args);\n\n              case 6:\n                r = _context11.sent;\n                return _context11.abrupt(\"return\", r.dataItems[0]);\n\n              case 8:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n    }\n    /**\r\n     * 重置密码\r\n     * @param mobile 手机号\r\n     * @param password 新密码\r\n     * @param smsId 短信编号\r\n     * @param verifyCode 验证码\r\n     */\n\n  }, {\n    key: \"resetPassword\",\n    value: function resetPassword(mobile, password, smsId, verifyCode) {\n      if (!mobile) throw errors_1.errors.argumentNull('mobile');\n      if (!password) throw errors_1.errors.argumentNull('password');\n      if (!smsId) throw errors_1.errors.argumentNull('smsId');\n      if (!verifyCode) throw errors_1.errors.argumentNull('verifyCode');\n      var url = this.url('user/resetPassword');\n      return this.postByJson(url, {\n        mobile: mobile,\n        password: password,\n        smsId: smsId,\n        verifyCode: verifyCode\n      });\n    }\n    /**\r\n     * 重置手机号码\r\n     * @param mobile 需要重置的新手机号\r\n     * @param smsId 短信编号\r\n     * @param verifyCode 验证码\r\n     */\n\n  }, {\n    key: \"resetMobile\",\n    value: function resetMobile(mobile, smsId, verifyCode) {\n      if (!mobile) throw errors_1.errors.argumentNull('mobile');\n      if (!smsId) throw errors_1.errors.argumentNull('smsId');\n      if (!verifyCode) throw errors_1.errors.argumentNull('verifyCode');\n      var url = this.url('user/resetMobile');\n      return this.postByJson(url, {\n        mobile: mobile,\n        smsId: smsId,\n        verifyCode: verifyCode\n      });\n    }\n  }, {\n    key: \"login\",\n    value: function login(arg0, password) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee12() {\n        var args, username, url, r;\n        return regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (!(typeof arg0 == \"string\")) {\n                  _context12.next = 9;\n                  break;\n                }\n\n                username = arg0;\n\n                if (username) {\n                  _context12.next = 4;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('username');\n\n              case 4:\n                if (password) {\n                  _context12.next = 6;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('password');\n\n              case 6:\n                args = {\n                  username: username,\n                  password: password\n                };\n                _context12.next = 10;\n                break;\n\n              case 9:\n                args = arg0;\n\n              case 10:\n                url = this.url('user/login');\n                _context12.next = 13;\n                return this.postByJson(url, args);\n\n              case 13:\n                r = _context12.sent;\n\n                if (!(r == null)) {\n                  _context12.next = 16;\n                  break;\n                }\n\n                throw errors_1.errors.unexpectedNullResult();\n\n              case 16:\n                return _context12.abrupt(\"return\", r);\n\n              case 17:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n    }\n    /**\r\n     * 注册\r\n     * @param mobile 手机号\r\n     * @param password 密码\r\n     * @param smsId 短信编号\r\n     * @param verifyCode 验证码\r\n     */\n\n  }, {\n    key: \"register\",\n    value: function register(mobile, password, smsId, verifyCode, data) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee13() {\n        var url, r;\n        return regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                if (mobile) {\n                  _context13.next = 2;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('mobile');\n\n              case 2:\n                if (password) {\n                  _context13.next = 4;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('password');\n\n              case 4:\n                if (smsId) {\n                  _context13.next = 6;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('smsId');\n\n              case 6:\n                if (verifyCode) {\n                  _context13.next = 8;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('verifyCode');\n\n              case 8:\n                url = this.url('user/register');\n                _context13.next = 11;\n                return this.postByJson(url, {\n                  mobile: mobile,\n                  password: password,\n                  smsId: smsId,\n                  verifyCode: verifyCode,\n                  data: data\n                });\n\n              case 11:\n                r = _context13.sent;\n\n                if (!(r == null)) {\n                  _context13.next = 14;\n                  break;\n                }\n\n                throw errors_1.errors.unexpectedNullResult();\n\n              case 14:\n                return _context13.abrupt(\"return\", r);\n\n              case 15:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n    }\n    /**\r\n     * 获取用户个人信息\r\n     */\n\n  }, {\n    key: \"me\",\n    value: function me() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee14() {\n        var url, user;\n        return regeneratorRuntime.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                url = this.url('user/me');\n                _context14.next = 3;\n                return this.getByJson(url);\n\n              case 3:\n                user = _context14.sent;\n                return _context14.abrupt(\"return\", user);\n\n              case 5:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n    }\n    /**\r\n     * 获取当前登录用户的角色\r\n     */\n\n  }, {\n    key: \"myRoles\",\n    value: function myRoles() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee15() {\n        var url, roles;\n        return regeneratorRuntime.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                url = this.url('user/getRoles');\n                _context15.next = 3;\n                return this.getByJson(url);\n\n              case 3:\n                roles = _context15.sent;\n                return _context15.abrupt(\"return\", roles);\n\n              case 5:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n    }\n    /**\r\n     * 给指定的用户添加角色\r\n     * @param userId 用户编号\r\n     * @param roleIds 多个角色编号\r\n     */\n\n  }, {\n    key: \"addUserRoles\",\n    value: function addUserRoles(userId, roleIds) {\n      var url = this.url('user/addRoles');\n      return this.postByJson(url, {\n        userId: userId,\n        roleIds: roleIds\n      });\n    }\n  }]);\n\n  return UserModule;\n}(ServiceModule);\n\nvar RoleModule =\n/*#__PURE__*/\nfunction (_ServiceModule2) {\n  _inherits(RoleModule, _ServiceModule2);\n\n  function RoleModule() {\n    var _this2;\n\n    _classCallCheck(this, RoleModule);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(RoleModule).apply(this, arguments));\n    _this2.resource = {\n      /**\r\n       * 获取角色所允许访问的资源 id\r\n       * @param roleId 指定的角色编号\r\n       */\n      ids: function ids(roleId) {\n        return __awaiter(_assertThisInitialized(_this2), void 0, void 0,\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee16() {\n          var url, r;\n          return regeneratorRuntime.wrap(function _callee16$(_context16) {\n            while (1) {\n              switch (_context16.prev = _context16.next) {\n                case 0:\n                  if (roleId) {\n                    _context16.next = 2;\n                    break;\n                  }\n\n                  throw errors_1.errors.argumentNull('roleId');\n\n                case 2:\n                  url = this.url('role/resourceIds');\n                  _context16.next = 5;\n                  return this.getByJson(url, {\n                    roleId: roleId\n                  });\n\n                case 5:\n                  r = _context16.sent;\n                  return _context16.abrupt(\"return\", r || []);\n\n                case 7:\n                case \"end\":\n                  return _context16.stop();\n              }\n            }\n          }, _callee16, this);\n        }));\n      }\n    };\n    return _this2;\n  }\n\n  _createClass(RoleModule, [{\n    key: \"list\",\n    value: function list() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee17() {\n        var url;\n        return regeneratorRuntime.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                url = this.url(\"role/list\");\n                return _context17.abrupt(\"return\", this.get(url));\n\n              case 2:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this);\n      }));\n    }\n  }, {\n    key: \"item\",\n    value: function item(id) {\n      var url = this.url(\"role/item\");\n      return this.get(url, {\n        id: id\n      });\n    }\n  }, {\n    key: \"add\",\n    value: function add(arg1, arg2) {\n      var url = this.url(\"role/add\");\n      var item;\n\n      if (typeof arg1 == \"string\") {\n        item = {\n          name: arg1,\n          remark: arg2\n        };\n      } else {\n        item = arg1;\n      }\n\n      return this.postByJson(url, {\n        item: item\n      });\n    }\n    /**\r\n     * 删除角色\r\n     * @param id 要删除的角色编号\r\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(id) {\n      var url = this.url(\"role/remove\");\n      return this.postByJson(url, {\n        id: id\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(item) {\n      var url = this.url(\"role/update\");\n      return this.postByJson(url, {\n        item: item\n      });\n    }\n    /**\r\n     * 获取角色所允许访问的资源 id\r\n     * @param roleId 指定的角色编号\r\n     */\n\n  }, {\n    key: \"resourceIds\",\n    value: function resourceIds(roleId) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee18() {\n        var url, r;\n        return regeneratorRuntime.wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                if (roleId) {\n                  _context18.next = 2;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('roleId');\n\n              case 2:\n                url = this.url('role/resourceIds');\n                _context18.next = 5;\n                return this.getByJson(url, {\n                  roleId: roleId\n                });\n\n              case 5:\n                r = _context18.sent;\n                return _context18.abrupt(\"return\", r || []);\n\n              case 7:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18, this);\n      }));\n    }\n    /**\r\n     *\r\n     * @param roleId 指定的角色编号\r\n     * @param resourceIds 角色所允许访问的资源编号\r\n     */\n\n  }, {\n    key: \"setResource\",\n    value: function setResource(roleId, resourceIds) {\n      if (!roleId) throw errors_1.errors.argumentNull('roleId');\n      if (!resourceIds) throw errors_1.errors.argumentNull('resourceIds');\n      var url = this.url('role/setResources');\n      return this.postByJson(url, {\n        roleId: roleId,\n        resourceIds: resourceIds\n      });\n    }\n  }]);\n\n  return RoleModule;\n}(ServiceModule);\n\nvar SMSModule =\n/*#__PURE__*/\nfunction (_ServiceModule3) {\n  _inherits(SMSModule, _ServiceModule3);\n\n  function SMSModule() {\n    _classCallCheck(this, SMSModule);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SMSModule).apply(this, arguments));\n  }\n\n  _createClass(SMSModule, [{\n    key: \"sendRegisterVerifyCode\",\n\n    /**\r\n     * 发送注册操作验证码\r\n     * @param mobile 接收验证码的手机号\r\n     */\n    value: function sendRegisterVerifyCode(mobile) {\n      var url = this.url('sms/sendVerifyCode');\n      return this.postByJson(url, {\n        mobile: mobile,\n        type: 'register'\n      });\n    }\n    /**\r\n     * 校验验证码\r\n     * @param smsId 验证码信息的 ID 号\r\n     * @param verifyCode 验证码\r\n     */\n\n  }, {\n    key: \"checkVerifyCode\",\n    value: function checkVerifyCode(smsId, verifyCode) {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee19() {\n        var url, r;\n        return regeneratorRuntime.wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                if (smsId) {\n                  _context19.next = 2;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('smsId');\n\n              case 2:\n                if (verifyCode) {\n                  _context19.next = 4;\n                  break;\n                }\n\n                throw errors_1.errors.argumentNull('verifycode');\n\n              case 4:\n                url = this.url('sms/checkVerifyCode');\n                _context19.next = 7;\n                return this.postByJson(url, {\n                  smsId: smsId,\n                  verifyCode: verifyCode\n                });\n\n              case 7:\n                r = _context19.sent;\n                return _context19.abrupt(\"return\", r);\n\n              case 9:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19, this);\n      }));\n    }\n    /**\r\n     * 发送重置密码操作验证码\r\n     * @param mobile 接收验证码的手机号\r\n     */\n\n  }, {\n    key: \"sendResetVerifyCode\",\n    value: function sendResetVerifyCode(mobile) {\n      if (!mobile) throw errors_1.errors.argumentNull('mobile');\n      var url = this.url('sms/sendVerifyCode');\n      return this.postByJson(url, {\n        mobile: mobile,\n        type: 'resetPassword'\n      });\n    }\n  }]);\n\n  return SMSModule;\n}(ServiceModule);\n//# sourceMappingURL=permission-service.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar maishu_chitu_service_1 = require(\"maishu-chitu-service\");\n\nvar Service =\n/*#__PURE__*/\nfunction (_maishu_chitu_service) {\n  _inherits(Service, _maishu_chitu_service);\n\n  function Service() {\n    _classCallCheck(this, Service);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Service).apply(this, arguments));\n  }\n\n  _createClass(Service, [{\n    key: \"ajax\",\n    value: function ajax(url, options) {\n      var _this = this;\n\n      var _super = Object.create(null, {\n        ajax: {\n          get: function get() {\n            return _get(_getPrototypeOf(Service.prototype), \"ajax\", _this);\n          }\n        }\n      });\n\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var data, obj, d, keys, i, key, k;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                options = options || {};\n                options.headers = options.headers || {}; // if (Service.loginInfo.value)\n                //     options.headers['token'] = Service.loginInfo.value.token\n                // if (Service.applicationId)\n                //     options.headers['application-id'] = typeof Service.applicationId == 'function' ? Service.applicationId() : Service.applicationId\n\n                _context.next = 4;\n                return _super.ajax.call(this, url, options);\n\n              case 4:\n                data = _context.sent;\n\n                if (!(data == null)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", null);\n\n              case 7:\n                obj = data;\n\n                if (!(obj.code && obj.message)) {\n                  _context.next = 10;\n                  break;\n                }\n\n                throw new Error(obj.message);\n\n              case 10:\n                if (obj != null && obj['DataItems'] != null && obj['TotalRowCount'] != null) {\n                  d = {};\n                  keys = Object.keys(data);\n\n                  for (i = 0; i < keys.length; i++) {\n                    key = keys[i];\n                    k = key[0].toLowerCase() + key.substr(1);\n                    d[k] = obj[key];\n                  }\n\n                  data = d;\n                }\n\n                this.travelJSON(data);\n                return _context.abrupt(\"return\", data);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n    /**\r\n     * 遍历 JSON 对象各个字段，将日期字符串转换为 Date 对象\r\n     * @param obj 要转换的 JSON 对象\r\n     */\n\n  }, {\n    key: \"travelJSON\",\n    value: function travelJSON(obj) {\n      if (typeof obj === 'string' && this.isDateString(obj)) {\n        return new Date(obj);\n      } else if (typeof obj === 'string') {\n        return obj;\n      }\n\n      var stack = new Array();\n      stack.push(obj);\n\n      while (stack.length > 0) {\n        var item = stack.pop();\n\n        for (var key in item) {\n          var value = item[key];\n          if (value == null) continue;\n\n          if (value instanceof Array) {\n            for (var i = 0; i < value.length; i++) {\n              stack.push(value[i]);\n            }\n\n            continue;\n          }\n\n          if (_typeof(value) == 'object') {\n            stack.push(value);\n            continue;\n          }\n\n          if (typeof value == 'string' && this.isDateString(value)) {\n            item[key] = new Date(value);\n          }\n        }\n      }\n\n      return obj;\n    }\n  }, {\n    key: \"isDateString\",\n    value: function isDateString(text) {\n      var datePattern = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}/;\n      var datePattern1 = /\\d{4}-\\d{2}-\\d{2}\\s+\\d{2}:\\d{2}/;\n      return text.match(datePattern) != null || text.match(datePattern1) != null;\n    }\n  }]);\n\n  return Service;\n}(maishu_chitu_service_1.Service);\n\nexports.Service = Service;\n//# sourceMappingURL=service.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar service_1 = require(\"./service\");\n\nvar errors_1 = require(\"../errors\");\n\nvar ToolkitService =\n/*#__PURE__*/\nfunction (_service_1$Service) {\n  _inherits(ToolkitService, _service_1$Service);\n\n  function ToolkitService() {\n    _classCallCheck(this, ToolkitService);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ToolkitService).call(this));\n  }\n\n  _createClass(ToolkitService, [{\n    key: \"url\",\n    value: function url(path) {\n      if (!path) throw new Error('Argument path cannt be null or empty.');\n      if (!ToolkitService.baseUrl) throw errors_1.errors.serviceUrlCanntNull('toolServiceUrl');\n      return \"\".concat(ToolkitService.baseUrl, \"/\").concat(path);\n    }\n    /** 获取系统自动生成不重复的唯一数字 */\n\n  }, {\n    key: \"uniqueNumber\",\n    value: function uniqueNumber() {\n      var url = this.url('unique-number');\n      return this.getByJson(url);\n    }\n  }]);\n\n  return ToolkitService;\n}(service_1.Service);\n\nexports.ToolkitService = ToolkitService;\n//# sourceMappingURL=toolkit-service.js.map\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar permission_service_1 = require(\"./permission-service\");\n/** 与用户相关的服务，这个类已经废弃，请使用  PermissionService*/\n\n\nvar UserService =\n/*#__PURE__*/\nfunction (_permission_service_) {\n  _inherits(UserService, _permission_service_);\n\n  function UserService() {\n    _classCallCheck(this, UserService);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(UserService).apply(this, arguments));\n  }\n\n  return UserService;\n}(permission_service_1.PermissionService);\n\nexports.UserService = UserService;\n//# sourceMappingURL=user-service.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar image_service_1 = require(\"./services/image-service\");\n\nvar permission_service_1 = require(\"./services/permission-service\");\n\nvar toolkit_service_1 = require(\"./services/toolkit-service\");\n\nexports.settings = {\n  noImageText: '暂无图片',\n\n  // get applicationId() {\n  //     return Service.applicationId\n  // },\n  // set applicationId(value) {\n  //     Service.applicationId = value\n  // },\n\n  /** 获取图片服务的 URL 地址 */\n  get imageServiceUrl() {\n    return image_service_1.ImageService.baseUrl;\n  },\n\n  /** 设置图片服务的 URL 地址 */\n  set imageServiceUrl(value) {\n    image_service_1.ImageService.baseUrl = value;\n  },\n\n  /** 获取权限管理的 URL 地址 */\n  get permissionServiceUrl() {\n    return permission_service_1.PermissionService.baseUrl;\n  },\n\n  /** 设置权限管理的 URL 地址 */\n  set permissionServiceUrl(value) {\n    permission_service_1.PermissionService.baseUrl = value;\n  },\n\n  /** 获取工具类服务的 URL 地址 */\n  get toolServiceUrl() {\n    return toolkit_service_1.ToolkitService.baseUrl;\n  },\n\n  /** 设置工具类服务的 URL 地址 */\n  set toolServiceUrl(value) {\n    toolkit_service_1.ToolkitService.baseUrl = value;\n  }\n\n};\n//# sourceMappingURL=settings.js.map\n","module.exports = __WEBPACK_EXTERNAL_MODULE_maishu_chitu_service__;"],"sourceRoot":""}